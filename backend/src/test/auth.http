@baseUrl = http://localhost:5000
@email = user@mail.com
@username = Test_user
@password = 1234

### ğŸ†• Register New User
POST {{baseUrl}}/api/users/register
Content-Type: application/json
Accept: application/json

{
  "fullName": "Test user",
  "email": "{{email}}",
  "username": "{{username}}",
  "password": "{{password}}"
}

### ğŸ” Login (email) â€” cookie is stored automatically by REST Client
POST {{baseUrl}}/api/users/login
Content-Type: application/json
Accept: application/json

{
  "email": "{{email}}",
  "password": "{{password}}"
}

### ğŸ‘¤ Get Current User (should be 200 after login)
GET {{baseUrl}}/api/users/me
Accept: application/json

### ğŸ“– Get Weather Prefs (should be 200)
GET {{baseUrl}}/api/prefs/weather
Accept: application/json

### âœï¸ Update Weather Prefs (valid â†’ 200)
PATCH {{baseUrl}}/api/prefs/weather
Content-Type: application/json
Accept: application/json

{
  "units": "imperial",
  "theme": "light",
  "favorites": ["Hamburg", "Berlin", "Tokyo"],
  "defaultCity": "Hamburg"
}

### âŒ Update Weather Prefs (invalid â†’ 400 with globalErrorHandler JSON)
PATCH {{baseUrl}}/api/prefs/weather
Content-Type: application/json
Accept: application/json

{
  "units": "kelvin",
  "favorites": "Hamburg"
}

### ğŸšª Logout User
POST {{baseUrl}}/api/users/logout
Accept: application/json

### ğŸš« Get Current User after logout (should be 401)
GET {{baseUrl}}/api/users/me
Accept: application/json

### ğŸš« Get Weather Prefs after logout (should be 401)
GET {{baseUrl}}/api/prefs/weather
Accept: application/json

### ğŸ” Login (username)
POST {{baseUrl}}/api/users/login
Content-Type: application/json
Accept: application/json

{
  "username": "{{username}}",
  "password": "{{password}}"
}

### ğŸ” Sanity: route not found (should be 404 via routeNotFound)
GET {{baseUrl}}/nope/this-route-does-not-exist
Accept: application/json

# -------------------------------------------------------------------
# OPTIONAL: If you really want to test with a manual cookie instead of the jar,
# uncomment the block below and paste a fresh "token=..." cookie value.
# -------------------------------------------------------------------
##
GET {{baseUrl}}/api/users/me
Accept: application/json
Cookie: token=PASTE_YOUR_JWT_COOKIE_HERE
